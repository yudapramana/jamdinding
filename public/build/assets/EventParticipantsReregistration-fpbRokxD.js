import{y as G,J as y,K as E,A as o,B as i,C as t,O as _,U as S,S as m,M as a,G as T,a as q,ay as H,R as A,as as dt,aB as J,F as P,z as ft,V as yt,P as L,D as it,aC as ht}from"./AuthUserStore-Du_wEH36.js";import{S as U}from"./sweetalert2.esm.all-9Qm2jZ7z.js";import{u as xt}from"./MasterDataStore-B7VSJ4Ee.js";import{i as Y,j as Q,k as rt,l as kt,_ as $t}from"./ViewParticipantModal-lvsaVt7d.js";import{R as wt}from"./ReRegisterModal-DEOfxoTT.js";import{_ as ut}from"./app-D2SkCNoG.js";const Tt={class:"modal fade",id:"drawNumberModal",tabindex:"-1"},Ct={class:"modal-dialog modal-lg modal-dialog-centered"},Dt={class:"modal-content"},Mt={key:0,class:"modal-body text-center"},Rt={class:"mb-2 text-muted"},Ut={class:"text-xs mt-1"},Pt={class:"mt-4"},St=["disabled"],Nt=["disabled"],Gt={__name:"DrawNumberModal",props:{eventParticipant:Object},emits:["assigned"],setup(B,{emit:N}){const c=B,I=N,n=G(()=>c.eventParticipant||null),b=G(()=>{var r;return((r=n.value)==null?void 0:r.unit_type)==="team"}),v=G(()=>{var r;return((r=n.value)==null?void 0:r.id)||null}),h=y([]),u=y(!1),f=y(null);let x=null;const d=G(()=>f.value==null?"":f.value%2===0?"even":"odd"),R=async()=>{var r,g;if(!v.value){U.fire("Error","Data peserta tidak valid","error");return}try{const D=b.value?`/api/v1/event-teams/${v.value}/draw-number`:`/api/v1/event-participants/${v.value}/draw-number`,{data:M}=await q.post(D);if(!(M!=null&&M.numbers)||M.numbers.length===0)throw new Error("Nomor undian kosong");h.value=M.numbers,u.value=!0,p(40)}catch(D){U.fire("Gagal",((g=(r=D.response)==null?void 0:r.data)==null?void 0:g.message)||"Gagal memulai undian","error")}},p=r=>{if(!u.value)return;const g=Math.floor(Math.random()*h.value.length);f.value=h.value[g],x=setTimeout(()=>p(Math.min(r+10,200)),r)},C=async()=>{var r,g,D;if(u.value=!1,clearTimeout(x),!f.value){U.fire("Error","Nomor belum ditentukan","warning");return}try{const M=b.value?`/api/v1/event-teams/${v.value}/assign-number`:`/api/v1/event-participants/${v.value}/assign-number`,O=await q.post(M,{branch_sequence:f.value});U.fire("Nomor Ditetapkan",((r=O.data)==null?void 0:r.participant_number)||f.value,"success"),I("assigned")}catch(M){U.fire("Gagal",((D=(g=M.response)==null?void 0:g.data)==null?void 0:D.message)||"Gagal menetapkan nomor","error")}};return E(()=>c.eventParticipant,()=>{f.value=null,u.value=!1,h.value=[]}),(r,g)=>{var D;return i(),o("div",Tt,[t("div",Ct,[t("div",Dt,[g[1]||(g[1]=t("div",{class:"modal-header"},[t("h5",{class:"modal-title"},"Undian Nomor Peserta"),t("button",{class:"close","data-dismiss":"modal"},[t("span",null,"×")])],-1)),n.value?(i(),o("div",Mt,[t("div",Rt,[b.value?(i(),o(S,{key:0},[g[0]||(g[0]=m(" Tim: ")),t("strong",null,a(n.value.display_name),1),t("div",Ut," Jumlah anggota: "+a(n.value.members_count),1)],64)):(i(),o(S,{key:1},[m(a((D=n.value.participant)==null?void 0:D.full_name),1)],64))]),t("div",{class:T(["display-2 font-weight-bold roulette",d.value])},a(f.value??"--"),3),t("div",Pt,[t("button",{class:"btn btn-success mr-2",onClick:R,disabled:u.value}," Mulai ",8,St),t("button",{class:"btn btn-danger",onClick:C,disabled:!u.value}," Stop ",8,Nt)])])):_("",!0),g[2]||(g[2]=t("div",{class:"modal-footer"},[t("button",{class:"btn btn-light","data-dismiss":"modal"}," Tutup ")],-1))])])])}}},Vt=ut(Gt,[["__scopeId","data-v-175ec985"]]),Bt={class:"modal fade",id:"reRegisterTeamModal",tabindex:"-1"},It={class:"modal-dialog modal-xl modal-dialog-scrollable"},Et={class:"modal-content"},At={class:"modal-header"},jt=["disabled"],Kt={key:0,class:"modal-body"},Lt={class:"card mb-3"},Ht={class:"card-body py-3"},Ot={class:"d-flex justify-content-between flex-wrap"},Ft={class:"mb-1"},Jt={class:"text-sm text-muted"},qt={class:"badge badge-light border"},zt={class:"text-sm text-muted"},Yt={class:"badge badge-info"},Qt={class:"text-sm text-muted"},Wt={class:"text-sm"},Xt={class:"card mb-3"},Zt={class:"card-body p-2"},te={class:"table table-sm table-bordered mb-0"},ee={class:"text-center"},ae={class:"text-sm"},se={class:"badge badge-success"},ne={key:0},le={class:"form-group"},oe={class:"form-group"},ie={class:"modal-footer"},re=["disabled"],de=["disabled"],ue={__name:"ReRegisterTeamModal",props:{eventTeam:Object},emits:["updated"],setup(B,{emit:N}){const c=B,I=N,n=G(()=>c.eventTeam||null),b=y(!1),v=y(""),h=y(""),u=async()=>{var x,d;if(!v.value){U.fire("Pilih keputusan","Silakan pilih ACC atau Tolak.","warning");return}b.value=!0;try{await q.post(`/api/v1/event-teams/${n.value.id}/re-registration`,{reregistration_status:v.value,reregistration_notes:h.value||null}),$("#reRegisterTeamModal").modal("hide"),await U.fire({icon:"success",title:"Berhasil",text:"Daftar ulang tim berhasil diproses.",timer:1500,showConfirmButton:!1}),I("updated")}catch(R){U.fire("Gagal",((d=(x=R.response)==null?void 0:x.data)==null?void 0:d.message)||"Terjadi kesalahan.","error")}finally{b.value=!1}},f=x=>x==="verified"?"badge-success":x==="rejected"?"badge-danger":"badge-secondary";return E(()=>c.eventTeam,()=>{v.value="",h.value=""}),(x,d)=>{var R;return i(),o("div",Bt,[t("div",It,[t("div",Et,[t("div",At,[d[3]||(d[3]=t("div",null,[t("h5",{class:"modal-title"},"Proses Daftar Ulang Tim"),t("div",{class:"text-sm text-muted"}," Verifikasi kehadiran dan kelengkapan tim secara kolektif. ")],-1)),t("button",{class:"close","data-dismiss":"modal",disabled:b.value},d[2]||(d[2]=[t("span",null,"×",-1)]),8,jt)]),n.value?(i(),o("div",Kt,[t("div",Lt,[t("div",Ht,[t("div",Ot,[t("div",null,[t("h6",Ft,a(n.value.display_name),1),t("div",Jt,[d[4]||(d[4]=m(" Kontingen: ")),t("span",qt,a(n.value.contingent||"-"),1)]),t("div",zt,[d[5]||(d[5]=m(" Cabang/Golongan: ")),t("span",Yt,a(((R=n.value.event_group)==null?void 0:R.full_name)||"-"),1)]),t("div",Qt," Jumlah anggota: "+a(n.value.members_count),1)]),t("div",Wt,[d[6]||(d[6]=m(" Status sekarang: ")),t("span",{class:T(["badge",f(n.value.reregistration_status)])},a(n.value.reregistration_status),3)])])])]),t("div",Xt,[d[9]||(d[9]=t("div",{class:"card-header py-2"},[t("strong",null,"Daftar Anggota Tim")],-1)),t("div",Zt,[t("table",te,[d[8]||(d[8]=t("thead",null,[t("tr",null,[t("th",{style:{width:"40px"}},"#"),t("th",null,"Nama"),t("th",null,"NIK"),t("th",null,"Umur"),t("th",null,"Status Awal"),t("th",null,"Status Daftar Ulang")])],-1)),t("tbody",null,[(i(!0),o(S,null,H(n.value.participants,(p,C)=>{var r,g;return i(),o("tr",{key:p.id},[t("td",ee,a(C+1),1),t("td",null,a(((r=p.participant)==null?void 0:r.full_name)||"-"),1),t("td",null,a(((g=p.participant)==null?void 0:g.nik)||"-"),1),t("td",ae,a(p.age_year)+"T "+a(p.age_month)+"B "+a(p.age_day)+"H ",1),t("td",null,[t("span",se,a(p.registration_status),1)]),t("td",null,[t("span",{class:T(["badge",f(p.reregistration_status)])},a(p.reregistration_status||"not_yet"),3)])])}),128)),!n.value.participants||n.value.participants.length===0?(i(),o("tr",ne,d[7]||(d[7]=[t("td",{colspan:"6",class:"text-center text-muted py-3"}," Tidak ada anggota ",-1)]))):_("",!0)])])])]),t("div",le,[d[10]||(d[10]=t("label",{class:"text-sm mb-1"},"Catatan Verifikator",-1)),A(t("textarea",{"onUpdate:modelValue":d[0]||(d[0]=p=>h.value=p),class:"form-control",rows:"3",placeholder:"Catatan daftar ulang tim"},null,512),[[dt,h.value]])]),t("div",oe,[d[12]||(d[12]=t("label",{class:"text-sm mb-1"},"Keputusan",-1)),A(t("select",{"onUpdate:modelValue":d[1]||(d[1]=p=>v.value=p),class:"form-control"},d[11]||(d[11]=[t("option",{value:""},"-- pilih keputusan --",-1),t("option",{value:"verified"},"ACC / Terima",-1),t("option",{value:"rejected"},"Tolak",-1)]),512),[[J,v.value]])])])):_("",!0),t("div",ie,[t("button",{class:"btn btn-light","data-dismiss":"modal",disabled:b.value}," Tutup ",8,re),t("button",{class:"btn btn-primary",disabled:b.value,onClick:u}," Submit ",8,de)])])])])}}},ce={class:"modal fade",id:"viewTeamModal",tabindex:"-1",role:"dialog"},ve={class:"modal-dialog modal-xl modal-dialog-scrollable",role:"document"},me={class:"modal-content"},pe={key:0,class:"modal-body"},ge={class:"card mb-3 border shadow-sm"},_e={class:"card-body py-3"},be={class:"row"},fe={class:"col-md-8"},ye={class:"mb-1 font-weight-bold text-uppercase"},he={class:"text-sm text-muted mb-1"},xe={class:"text-sm text-muted mb-1"},ke={class:"text-sm text-muted"},$e={class:"badge badge-light border"},we={class:"col-md-4 text-md-right mt-2 mt-md-0"},Te={class:"mb-1"},Ce={class:"h5 font-weight-bold text-primary mb-0"},De={class:"mb-1"},Me={key:0,class:"text-xs text-muted"},Re={key:0,class:"border-top p-3"},Ue={class:"alert alert-danger mb-0"},Pe={class:"text-sm mt-1"},Se={class:"card border shadow-sm"},Ne={class:"card-header py-2 d-flex justify-content-between align-items-center"},Ge={class:"badge badge-light border"},Ve={class:"card-body p-2"},Be={class:"row"},Ie={class:"col-md-8"},Ee={class:"font-weight-bold text-uppercase"},Ae={class:"text-sm text-muted"},je={class:"text-monospace"},Ke={class:"text-sm text-muted"},Le={key:0},He={class:"text-sm text-muted"},Oe={class:"text-sm text-muted"},Fe={class:"col-md-4 text-md-right mt-2 mt-md-0"},Je={class:"mb-1"},qe={key:0,class:"text-xs text-muted"},ze={key:0,class:"text-muted text-center py-3"},Ye={__name:"ViewTeamModal",props:{selectedTeam:{type:Object,default:null}},setup(B){const N=B,c=G(()=>N.selectedTeam);return(I,n)=>{var b,v,h;return i(),o("div",ce,[t("div",ve,[t("div",me,[n[11]||(n[11]=t("div",{class:"modal-header py-2"},[t("h5",{class:"modal-title"},[t("i",{class:"fas fa-users mr-2"}),m(" Detail Tim ")]),t("button",{type:"button",class:"close","data-dismiss":"modal"},[t("span",null,"×")])],-1)),c.value?(i(),o("div",pe,[t("div",ge,[t("div",_e,[t("div",be,[t("div",fe,[t("h5",ye,a(c.value.team_name||c.value.display_name),1),t("div",he,[n[0]||(n[0]=m(" Cabang / Golongan: ")),t("strong",null,a(((b=c.value.event_group)==null?void 0:b.full_name)||"-"),1)]),t("div",xe,[n[1]||(n[1]=m(" Kategori: ")),t("strong",null,a(((v=c.value.event_category)==null?void 0:v.full_name)||"-"),1)]),t("div",ke,[n[2]||(n[2]=m(" Kontingen: ")),t("span",$e,a(c.value.contingent||"-"),1)])]),t("div",we,[t("div",Te,[n[3]||(n[3]=m(" Nomor Tim: ")),t("div",Ce,a(c.value.participant_number||"-"),1)]),t("div",De,[n[4]||(n[4]=m(" Status Daftar Ulang: ")),t("span",{class:T(["badge",P(Y)(c.value.reregistration_status)])},a(P(Q)(c.value.reregistration_status)),3)]),c.value.reregistered_at?(i(),o("div",Me," Diproses: "+a(P(rt)(c.value.reregistered_at)),1)):_("",!0)])])]),c.value.reregistration_status==="rejected"?(i(),o("div",Re,[t("div",Ue,[n[5]||(n[5]=t("strong",null,[t("i",{class:"fas fa-exclamation-triangle mr-1"}),m(" Tim Ditolak ")],-1)),t("div",Pe,a(c.value.reregistration_notes||"Tidak ada catatan."),1)])])):_("",!0)]),t("div",Se,[t("div",Ne,[n[6]||(n[6]=t("strong",null," Anggota Tim ",-1)),t("span",Ge,a(((h=c.value.participants)==null?void 0:h.length)||0)+" orang ",1)]),t("div",Ve,[(i(!0),o(S,null,H(c.value.participants,(u,f)=>{var x,d,R,p,C,r;return i(),o("div",{key:u.id||f,class:"border rounded p-3 mb-3"},[t("div",Be,[t("div",Ie,[t("div",Ee,a(((x=u.participant)==null?void 0:x.full_name)||"-"),1),t("div",Ae,[n[7]||(n[7]=m(" NIK: ")),t("span",je,a(((d=u.participant)==null?void 0:d.nik)||"-"),1)]),t("div",Ke,[m(" TTL: "+a(((R=u.participant)==null?void 0:R.place_of_birth)||"-")+", "+a(P(kt)((p=u.participant)==null?void 0:p.date_of_birth))+" ",1),u.age_year!=null?(i(),o("span",Le," ("+a(u.age_year)+"T "+a(u.age_month)+"B "+a(u.age_day)+"H) ",1)):_("",!0)]),t("div",He,[n[8]||(n[8]=m(" JK: ")),t("strong",null,a(((C=u.participant)==null?void 0:C.gender)==="MALE"?"Laki-laki":"Perempuan"),1)]),t("div",Oe," Alamat: "+a(((r=u.participant)==null?void 0:r.address)||"-"),1)]),t("div",Fe,[n[10]||(n[10]=t("div",{class:"mb-1"},[m(" Status Registrasi: "),t("span",{class:"badge badge-success"}," VERIFIED ")],-1)),t("div",Je,[n[9]||(n[9]=m(" Status Daftar Ulang: ")),t("span",{class:T(["badge",P(Y)(u.reregistration_status)])},a(P(Q)(u.reregistration_status)),3)]),u.reregistered_at?(i(),o("div",qe,a(P(rt)(u.reregistered_at)),1)):_("",!0)])])])}),128)),!c.value.participants||c.value.participants.length===0?(i(),o("div",ze," Tidak ada anggota tim. ")):_("",!0)])])])):_("",!0),n[12]||(n[12]=t("div",{class:"modal-footer py-2"},[t("button",{type:"button",class:"btn btn-sm btn-secondary","data-dismiss":"modal"}," Tutup ")],-1))])])])}}},Qe={class:"content-header"},We={class:"container-fluid"},Xe={class:"d-flex justify-content-between align-items-center"},Ze={key:0,class:"mb-0 mt-1 text-sm text-muted"},ta={key:0},ea={key:0,class:"text-danger text-sm mt-2 mb-0"},aa={class:"content"},sa={class:"container-fluid"},na={class:"card"},la={class:"card-header py-2"},oa={class:"d-flex flex-wrap align-items-center justify-content-between"},ia={class:"d-flex flex-wrap align-items-center gap-2"},ra=["value"],da={class:"card-body table-responsive p-0"},ua={class:"table table-bordered table-hover text-sm mb-0"},ca={key:0},va={key:1},ma={class:"text-center"},pa={class:"text-muted text-xs"},ga={class:"ml-1"},_a={class:"mt-1 d-flex align-items-center flex-wrap"},ba=["title"],fa={class:"text-xs text-muted"},ya=["onClick"],ha={key:1},xa={class:"text-xs text-muted"},ka=["onClick"],$a={key:0,class:"text-xs text-muted"},wa={class:"badge badge-light border"},Ta={class:"text-center"},Ca={class:"btn-group btn-group-sm"},Da=["onClick"],Ma=["onClick"],Ra=["onClick"],Ua=["onClick"],Pa={class:"card-footer clearfix py-2"},Sa={class:"d-flex justify-content-between align-items-center"},Na={class:"text-muted text-sm"},Ga={class:"pagination pagination-sm m-0"},Va={class:"page-item disabled"},Ba={class:"page-link"},Ia={__name:"EventParticipantsReregistration",setup(B){const N=y(null),c=l=>{N.value=l,$("#reRegisterTeamModal").modal("show")},I=ft(),n=xt(),b=G(()=>I.eventData||null),v=G(()=>{var l;return((l=b.value)==null?void 0:l.id)||null}),h=y([]),u=y(""),f=y(10),x=y(!1),d=y([]),R=y([]),p=y([]),C=y({reregistration_status:"",event_group_id:""}),r=y({current_page:1,per_page:10,total:0,from:0,to:0,last_page:1}),g=y(null),D=y(null),M=l=>{g.value=l,l.unit_type==="team"?$("#viewTeamModal").modal("show"):$("#viewParticipantModal").modal("show")},O=l=>{D.value=l,$("#reRegisterModal").modal("show")},W=l=>{D.value=l,$("#drawNumberModal").modal("show")},z=()=>{V(r.value.current_page||1)},ct=l=>{const e=["verified","diterima","accepted"].includes(((l==null?void 0:l.reregistration_status)||"").toLowerCase()),k=!(l!=null&&l.participant_number)||l.participant_number===""||l.participant_number==="-";return e&&k},X=async()=>{if(v.value)try{d.value=n.eventBranches,R.value=n.eventGroups,p.value=n.eventCategories}catch(l){console.error("Gagal memuat master event (branches/groups/categories):",l),U.fire("Gagal","Gagal memuat daftar cabang event & golongan.","error")}},vt=l=>l+1+(r.value.current_page-1)*r.value.per_page,mt=l=>{const e=String(l||"").toUpperCase();return e==="PUTRA"?"badge-primary":e==="PUTRI"?"badge-pink":"badge-secondary"},pt=l=>{const e=String(l||"").toUpperCase();return e==="PUTRA"?"fas fa-mars":e==="PUTRI"?"fas fa-venus":"fas fa-users"},gt=l=>{if(l.unit_type!=="individual")return!1;const e=["verified"].includes((l.registration_status||"").toLowerCase()),k=["not_yet","",null].includes(l.reregistration_status);return e&&k},_t=l=>{var j,s;if(l.unit_type!=="team")return!1;const e=(j=l.participants)==null?void 0:j.every(K=>K.registration_status==="verified"),k=(s=l.participants)==null?void 0:s.every(K=>K.reregistration_status==="verified"),F=["not_yet",null,""].includes(l.reregistration_status);return e&&k&&F},V=async(l=1)=>{if(v.value){x.value=!0;try{const k=(await q.get("/api/v1/event-participants/re-registration/index",{params:{event_id:v.value,page:l,per_page:f.value,search:u.value,reregistration_status:C.value.reregistration_status||"",event_group_id:C.value.event_group_id||""}})).data;h.value=k.data||[],r.value={current_page:k.current_page,per_page:k.per_page,total:k.total,from:k.from,to:k.to,last_page:k.last_page}}catch{U.fire("Gagal","Gagal memuat data daftar ulang.","error")}finally{x.value=!1}}},Z=l=>{l<1||l>r.value.last_page||V(l)};return E(()=>u.value,ht(()=>V(1),400)),E(()=>f.value,()=>V(1)),E(()=>({...C.value}),()=>V(1)),E(()=>v.value,l=>l&&V(1)&&X()),yt(async()=>{v.value?(await X(),V(1)):U.fire("Event belum dipilih","Silakan pilih event melalui Portal Event terlebih dahulu.","info")}),(l,e)=>{var k,F,j;return i(),o(S,null,[t("section",Qe,[t("div",We,[t("div",Xe,[t("div",null,[e[8]||(e[8]=t("h1",{class:"mb-1"},"Pendaftaran Ulang Peserta",-1)),e[9]||(e[9]=t("p",{class:"mb-0 text-muted text-sm"}," Mengelola peserta & tim yang terdaftar pada event aktif (daftar ulang). ",-1)),v.value?(i(),o("p",Ze,[e[6]||(e[6]=m(" Event aktif: ")),t("strong",null,a((k=b.value)==null?void 0:k.event_name),1),(F=b.value)!=null&&F.event_year?(i(),o("span",ta," ("+a(b.value.event_year)+")",1)):_("",!0),e[7]||(e[7]=m(" • Lokasi: ")),t("strong",null,a(((j=b.value)==null?void 0:j.event_location)||"-"),1)])):_("",!0)])]),v.value?_("",!0):(i(),o("p",ea,e[10]||(e[10]=[t("i",{class:"fas fa-exclamation-triangle mr-1"},null,-1),m(" Event belum dipilih. Silakan pilih event melalui Portal Event terlebih dahulu. ")])))])]),t("section",aa,[t("div",sa,[t("div",na,[t("div",la,[t("div",oa,[t("div",ia,[e[14]||(e[14]=t("span",{class:"text-xs text-muted"},"Tampil",-1)),A(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>f.value=s),class:"form-control form-control-sm w-auto"},e[11]||(e[11]=[t("option",{value:10},"10",-1),t("option",{value:25},"25",-1),t("option",{value:50},"50",-1),t("option",{value:100},"100",-1)]),512),[[J,f.value,void 0,{number:!0}]]),e[15]||(e[15]=t("span",{class:"text-xs text-muted"},"entri",-1)),A(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>C.value.reregistration_status=s),class:"form-control form-control-sm w-auto",title:"Status Daftar Ulang"},e[12]||(e[12]=[t("option",{value:""},"Semua Status",-1),t("option",{value:"not_yet"},"Belum Hadir",-1),t("option",{value:"verified"},"Terverifikasi",-1),t("option",{value:"rejected"},"Diskualifikasi",-1)]),512),[[J,C.value.reregistration_status]]),A(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>C.value.event_group_id=s),class:"form-control form-control-sm w-auto",title:"Cabang / Golongan"},[e[13]||(e[13]=t("option",{value:""},"Cabang",-1)),(i(!0),o(S,null,H(P(n).eventGroups,s=>(i(),o("option",{key:s.id,value:String(s.id)},a(s.full_name||s.name||s.group_name||"Gol #"+s.id),9,ra))),128))],512),[[J,C.value.event_group_id]])]),A(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>u.value=s),type:"text",class:"form-control form-control-sm mt-2 mt-md-0",style:{width:"260px"},placeholder:"Cari nama / NIK / kontingen…"},null,512),[[dt,u.value]])])]),t("div",da,[t("table",ua,[e[23]||(e[23]=t("thead",{class:"thead-light"},[t("tr",null,[t("th",{style:{width:"50px"}},"#"),t("th",null,"Peserta / Tim"),t("th",{style:{width:"200px"}},"Identitas"),t("th",null,"Cabang / Golongan"),t("th",{style:{width:"160px"}},"Kontingen"),t("th",{style:{width:"140px"},class:"text-center"},"Aksi")])],-1)),t("tbody",null,[x.value?(i(),o("tr",ca,e[16]||(e[16]=[t("td",{colspan:"7",class:"text-center py-4"}," Memuat data daftar ulang... ",-1)]))):h.value.length===0?(i(),o("tr",va,e[17]||(e[17]=[t("td",{colspan:"7",class:"text-center py-4"}," Belum ada data daftar ulang. ",-1)]))):_("",!0),(i(!0),o(S,null,H(h.value,(s,K)=>{var tt,et,at,st;return i(),o("tr",{key:s.unit_type+"-"+s.id},[t("td",ma,a(vt(K)),1),t("td",null,[t("span",pa,a(s.participant_number||"-"),1),t("strong",ga,a(s.display_name),1),t("div",_a,[t("span",{class:T(["badge mr-1",s.unit_type==="team"?"badge-info":"badge-secondary"])},a(s.unit_type==="team"?"GRUP":"INDIVIDU"),3),s.unit_type==="individual"&&((tt=s.leader)!=null&&tt.gender)?(i(),o("span",{key:0,class:T(["badge mr-1 gender-badge",s.leader.gender==="MALE"?"badge-primary":"badge-pink"])},[t("i",{class:T(s.leader.gender==="MALE"?"fas fa-mars":"fas fa-venus")},null,2)],2)):_("",!0),s.unit_type==="team"&&((et=s.event_category)!=null&&et.category_name)?(i(),o("span",{key:1,class:T(["badge mr-1 gender-badge",mt(s.event_category.category_name)]),title:"Kategori "+s.event_category.category_name},[t("i",{class:T(pt(s.event_category.category_name))},null,2)],10,ba)):_("",!0),t("span",{class:T(["badge",P(Y)(s.reregistration_status)])},a(P(Q)(s.reregistration_status)),3)])]),t("td",null,[s.unit_type==="individual"?(i(),o(S,{key:0},[t("strong",null,a(s.leader.nik),1),t("div",fa," Umur: "+a(s.age_year)+"T "+a(s.age_month)+"B "+a(s.age_day)+"H ",1)],64)):_("",!0),s.unit_type==="team"?(i(!0),o(S,{key:1},H(s.participants.filter(w=>w.registration_status==="verified"),w=>{var nt,lt,ot;return i(),o("div",{key:w.event_participant_id,class:"border rounded p-1 mb-1"},[["not_yet",null,""].includes(w.reregistration_status)?(i(),o("button",{key:0,class:"btn btn-outline-warning btn-xs w-100 text-left",onClick:bt=>O(w)},[e[18]||(e[18]=t("i",{class:"fas fa-user-check mr-1"},null,-1)),m(" Daftar Ulang: "+a((nt=w.participant)==null?void 0:nt.full_name),1)],8,ya)):(i(),o("div",ha,[t("strong",null,a((lt=w.participant)==null?void 0:lt.full_name),1),t("div",xa," NIK: "+a(((ot=w.participant)==null?void 0:ot.nik)||"-"),1),t("button",{onClick:bt=>M(w),class:T(["badge mt-1",w.reregistration_status==="verified"?"badge-success":"badge-danger"])},[t("i",{class:T([w.reregistration_status==="verified"?"fas fa-check-circle":"fas fa-times-circle","mr-1"])},null,2),m(" "+a(w.reregistration_status==="verified"?"Terverifikasi":"Diskualifikasi"),1)],10,ka)]))])}),128)):_("",!0)]),t("td",null,[t("strong",null,a(((at=s.event_group)==null?void 0:at.full_name)||"-"),1),s.unit_type==="individual"&&((st=s.event_group)!=null&&st.max_age)?(i(),o("div",$a," Batas: "+a(s.event_group.max_age-1)+"T 11B 29H ",1)):_("",!0)]),t("td",null,[t("span",wa,a(s.contingent||"-"),1)]),t("td",Ta,[t("div",Ca,[t("button",{class:"btn btn-outline-primary btn-xs",title:"Lihat Data",onClick:w=>M(s)},e[19]||(e[19]=[t("i",{class:"fas fa-eye"},null,-1)]),8,Da),s.unit_type==="individual"&&gt(s)?(i(),o("button",{key:0,class:"btn btn-outline-warning btn-xs",title:"Proses Daftar Ulang",onClick:w=>O(s)},e[20]||(e[20]=[t("i",{class:"fas fa-user-check"},null,-1)]),8,Ma)):_("",!0),s.unit_type==="team"&&_t(s)?(i(),o("button",{key:1,class:"btn btn-outline-warning btn-xs",title:"Proses Daftar Ulang Tim",onClick:w=>c(s)},e[21]||(e[21]=[t("i",{class:"fas fa-check-double"},null,-1)]),8,Ra)):_("",!0),ct(s)?(i(),o("button",{key:2,class:"btn btn-outline-success btn-xs",title:"Undian Nomor Peserta",onClick:w=>W(s)},e[22]||(e[22]=[t("i",{class:"fas fa-dice"},null,-1)]),8,Ua)):_("",!0)])])])}),128))])])]),t("div",Pa,[t("div",Sa,[t("div",Na," Menampilkan "+a(r.value.from||0)+" - "+a(r.value.to||0)+" dari "+a(r.value.total||0)+" data ",1),t("ul",Ga,[t("li",{class:T(["page-item",{disabled:r.value.current_page===1}])},[t("a",{href:"#",class:"page-link",onClick:e[4]||(e[4]=it(s=>Z(r.value.current_page-1),["prevent"]))},"«")],2),t("li",Va,[t("span",Ba," Halaman "+a(r.value.current_page)+" / "+a(r.value.last_page||1),1)]),t("li",{class:T(["page-item",{disabled:r.value.current_page===r.value.last_page}])},[t("a",{href:"#",class:"page-link",onClick:e[5]||(e[5]=it(s=>Z(r.value.current_page+1),["prevent"]))},"»")],2)])])])])]),L($t,{"selected-participant":g.value},null,8,["selected-participant"]),L(wt,{"event-participant":D.value,onUpdated:z,onRequestDraw:W},null,8,["event-participant"]),L(Vt,{"event-participant":D.value,onAssigned:z},null,8,["event-participant"]),L(ue,{"event-team":N.value,onUpdated:z},null,8,["event-team"]),L(Ye,{"selected-team":g.value},null,8,["selected-team"])])],64)}}},Oa=ut(Ia,[["__scopeId","data-v-1c3d2f84"]]);export{Oa as default};
